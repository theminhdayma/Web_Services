# üîê Th·ª±c h√†nh gi·∫£i m√£ JWT ‚Äì Ph√¢n t√≠ch payload v√† ƒë√°nh gi√° b·∫£o m·∫≠t

## ‚úÖ Y√™u c·∫ßu

- Gi·∫£i m√£ chu·ªói JWT m·∫´u b·∫±ng code ho·∫∑c c√¥ng c·ª• [jwt.io](https://jwt.io)
- Tr√¨nh b√†y √Ω nghƒ©a c√°c tr∆∞·ªùng trong payload
- Ph√¢n t√≠ch r·ªßi ro b·∫£o m·∫≠t khi ƒë·ªÉ l·ªô th√¥ng tin nh·∫°y c·∫£m

---

## 1. Chu·ªói JWT m·∫´u

```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.
eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6Ik5ndXllbiBW4bqhbSIsImlhdCI6MTUxNjIzOTAyMn0.
SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
```

---

## 2. Gi·∫£i m√£ b·∫±ng c√¥ng c·ª• jwt.io

D√°n JWT v√†o [https://jwt.io](https://jwt.io) ƒë·ªÉ xem n·ªôi dung ƒë√£ m√£ h√≥a.

### üìò Header (base64 decoded):

```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```

### üìó Payload (base64 decoded):

```json
{
  "sub": "1234567890",
  "name": "Nguyen VƒÉn",
  "iat": 1516239022
}
```

### üìï Signature:

Ph·∫ßn ch·ªØ k√Ω (`signature`) ƒë∆∞·ª£c t·∫°o b·∫±ng thu·∫≠t to√°n HMAC SHA256 + secret key. Kh√¥ng th·ªÉ gi·∫£i m√£ ph·∫ßn n√†y n·∫øu kh√¥ng c√≥ secret.

---

## 3. √ù nghƒ©a c√°c tr∆∞·ªùng trong Payload

| Tr∆∞·ªùng | √ù nghƒ©a |
|--------|--------|
| `sub` | Subject ‚Äì ƒë·ªãnh danh ng∆∞·ªùi d√πng (th∆∞·ªùng l√† user ID) |
| `name` | T√™n ng∆∞·ªùi d√πng ‚Äì c√≥ th·ªÉ d√πng hi·ªÉn th·ªã trong UI |
| `iat` | Issued At ‚Äì th·ªùi ƒëi·ªÉm token ƒë∆∞·ª£c ph√°t h√†nh (Unix timestamp: `1516239022` t∆∞∆°ng ·ª©ng 2018-01-18 01:30:22 UTC) |

---

## 4. R·ªßi ro b·∫£o m·∫≠t khi l·ªô th√¥ng tin trong Payload

### ‚ö†Ô∏è S·ª± th·∫≠t:
- Payload ch·ªâ ƒë∆∞·ª£c **Base64 encode**, **kh√¥ng ph·∫£i m√£ h√≥a** ‚áí ai c√≥ JWT c≈©ng c√≥ th·ªÉ ƒë·ªçc payload.

### üî• N·∫øu payload ch·ª©a th√¥ng tin nh·∫°y c·∫£m nh∆∞:
```json
{
  "email": "admin@example.com",
  "role": "ADMIN",
  "isAdmin": true,
  "creditCard": "4242-4242-4242-4242"
}
```

### üëâ H·ªá qu·∫£:
- Hacker ƒë·ªçc ƒë∆∞·ª£c c√°c th√¥ng tin quan tr·ªçng
- X√°c ƒë·ªãnh quy·ªÅn c·ªßa ng∆∞·ªùi d√πng (ADMIN ‚Üí t·∫•n c√¥ng m·ª•c ti√™u)
- N·∫øu h·ªá th·ªëng kh√¥ng x√°c th·ª±c ch·ªØ k√Ω ƒë√∫ng c√°ch ‚Üí nguy c∆° **JWT gi·∫£ m·∫°o**
- L·ªô d·ªØ li·ªáu c√° nh√¢n v√† t√†i ch√≠nh

---

## 5. Khuy·∫øn ngh·ªã b·∫£o m·∫≠t khi s·ª≠ d·ª•ng JWT

| Th√†nh ph·∫ßn | Khuy·∫øn ngh·ªã |
|------------|-------------|
| **Payload** | Kh√¥ng ch·ª©a d·ªØ li·ªáu nh·∫°y c·∫£m (password, email, th·∫ª t√≠n d·ª•ng, token reset, v.v.) |
| **Truy·ªÅn t·∫£i** | JWT lu√¥n truy·ªÅn qua HTTPS |
| **L∆∞u tr·ªØ** | ∆Øu ti√™n HttpOnly Cookie ƒë·ªÉ ngƒÉn XSS |
| **H·∫°n s·ª≠ d·ª•ng** | Lu√¥n d√πng `exp` ƒë·ªÉ gi·ªõi h·∫°n th·ªùi gian s·ªëng |
| **Backend** | Ph·∫£i x√°c th·ª±c ch·ªØ k√Ω tr∆∞·ªõc khi x·ª≠ l√Ω payload |

---

## 6. K·∫øt lu·∫≠n

JWT l√† c√¥ng c·ª• m·∫°nh m·∫Ω nh∆∞ng **kh√¥ng m√£ h√≥a payload**. ƒê·ªÉ d√πng an to√†n:

- **Kh√¥ng ƒë·ªÉ th√¥ng tin nh·∫°y c·∫£m trong payload**
- **Lu√¥n x√°c th·ª±c ch·ªØ k√Ω**
- **L∆∞u tr·ªØ v√† truy·ªÅn t·∫£i ƒë√∫ng c√°ch**

> ‚ö†Ô∏è H√£y nh·ªõ: N·∫øu JWT b·ªã l·ªô v√† b·∫°n kh√¥ng x√°c th·ª±c ƒë√∫ng ch·ªØ k√Ω, h·ªá th·ªëng s·∫Ω b·ªã t·∫•n c√¥ng nghi√™m tr·ªçng.

---

## üîß C√¥ng c·ª• h·ªó tr·ª£

- [jwt.io](https://jwt.io) ‚Äì gi·∫£i m√£ v√† ki·ªÉm tra JWT tr·ª±c tuy·∫øn
- Th∆∞ vi·ªán x·ª≠ l√Ω JWT:
    - Java: `jjwt`, `auth0/java-jwt`
    - Python: `PyJWT`
    - Node.js: `jsonwebtoken`